<html xmlns:th="http://www.thymeleaf.org"
      xmlns:ui="http://www.springui/dialect/ui"
      th:remove="tag">

<th:block th:with="token=${#ids.seq('upload')}">
    <div class="btn btn-primary" style="position:relative;overflow:hidden;">
        <span th:text="${self.caption?.value} ?: _">
            <i class="fa fa-upload"></i>&nbsp;
        </span>
        <input type="file" style="position:absolute;opacity:0;right:0;top:0;"
               th:name="${token}"
               th:data-action="${#urls.upload(self,token)}">
    </div>
</th:block>
</html>